# Exam Paper Generation System

This Flask application allows users to upload PDF textbooks, specify exam parameters, and generate exam papers. The system uses AI (currently placeholder) to generate questions based on the content of the PDFs.

## Project Structure

```
exam_generation_system/
├── uploads/            # Directory where uploaded PDF books are stored
├── src/
│   ├── templates/
│   │   └── index.html  # HTML template for the user interface
│   ├── ai_question_generator.py # Placeholder for AI question generation logic
│   ├── exam_formatter.py        # Logic for formatting the exam paper
│   ├── main.py                  # Main Flask application file, routes, and logic
│   └── pdf_parser.py            # Utility for extracting text from PDF files
├── venv/                 # Python virtual environment (not included in zip)
├── requirements.txt      # Python dependencies for the project
├── setup.py              # Setup script for packaging (optional for simple deployment)
├── todo.md               # Development to-do list
└── README.md             # This file
```

## Prerequisites

*   Python 3.9 or higher
*   `pip` (Python package installer)
*   `poppler-utils` (for PDF text extraction - `pdftotext` command). 
    *   On Debian/Ubuntu: `sudo apt-get install poppler-utils`
    *   On macOS (using Homebrew): `brew install poppler`
    *   On Windows: You may need to download binaries and add them to your PATH.

## Setup and Running Locally

1.  **Clone/Download the Project:**
    Obtain the project files and navigate into the `exam_generation_system` directory.

2.  **Create and Activate a Virtual Environment (Recommended):**
    ```bash
    python3 -m venv venv
    source venv/bin/activate  # On Windows: venv\Scripts\activate
    ```

3.  **Install Dependencies:**
    ```bash
    pip install -r requirements.txt
    ```
    (The `requirements.txt` file was generated by the Flask template and should contain Flask. If you add more specific libraries, ensure they are added here.)

4.  **Run the Application:**
    Navigate to the `src` directory and run the main application file:
    ```bash
    cd src
    python main.py
    ```
    The application should now be running on `http://127.0.0.1:5000/` (or `http://0.0.0.0:5000/`).

## Usage

1.  Open your web browser and go to `http://127.0.0.1:5000/`.
2.  **Upload or Select Book:**
    *   Use the "Upload New Book (PDF)" field to upload a new PDF textbook.
    *   Alternatively, if books have been previously uploaded, select one from the "Or Select Existing Book" dropdown.
3.  **Fill in Exam Details:**
    *   Provide School Name, Exam Title, Class Level, Subject, Total Time, and optionally a Version.
4.  **Configure Questions:**
    *   Specify the number of Multiple Choice Questions (Section A), Short Answer Questions (Section B), and Long Answer Questions (Section C).
5.  **Generate Exam Paper:**
    *   Click the "Generate Exam Paper" button.
6.  **View and Download:**
    *   The generated exam paper (text format) will be displayed on the page.
    *   Click the "Download as Text File" button to save the exam paper.

## Key Modules

*   `src/main.py`: Handles web requests, form processing, and orchestrates the exam generation process.
*   `src/pdf_parser.py`: Extracts text from PDF files using `pdftotext`.
*   `src/ai_question_generator.py`: **Placeholder module.** This needs to be integrated with a real AI service (like Gemini API) to generate meaningful questions. Currently, it generates template questions.
*   `src/exam_formatter.py`: Takes the generated questions and exam details to format them into a structured text-based exam paper, similar to the sample papers provided.
*   `src/templates/index.html`: The user interface for the application.
*   `uploads/`: This directory will be created by the application to store uploaded PDF files.

## Deployment

This is a basic Flask development server. For production deployment, you should use a production-ready WSGI server like Gunicorn or uWSGI, often behind a reverse proxy like Nginx.

Example with Gunicorn:
```bash
# Ensure Gunicorn is installed: pip install gunicorn
# From the exam_generation_system/src directory:
gunicorn --workers 4 --bind 0.0.0.0:5000 main:app
```

Ensure the `uploads` directory is writable by the user running the application.

## Important Notes

*   **AI Integration:** The current `ai_question_generator.py` is a placeholder. You will need to replace its logic with actual calls to an AI service (e.g., Gemini API) to generate questions from the extracted PDF text. This will involve API key management and careful prompt engineering.
*   **PDF Quality:** The quality of text extraction heavily depends on the PDF. Scanned or image-based PDFs will not yield usable text with `pdftotext`. OCR (Optical Character Recognition) capabilities would be needed for such PDFs, which is not included in this version.
*   **Error Handling:** Basic error handling is in place, but can be further improved for a production system.
*   **Security:** For a production system, review security best practices for Flask applications, especially regarding file uploads and user inputs.


